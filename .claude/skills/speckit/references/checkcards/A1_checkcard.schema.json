{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Checkcard A1 - AI Schema",
  "description": "Schema for Step A1: User Request + Orchestrator Dialog",
  "type": "object",
  "required": ["tools", "outputs"],
  "properties": {
    "tools": {
      "type": "object",
      "required": ["file_context_accessed", "mcp_servers_accessed", "claude_skills_accessed"],
      "properties": {
        "file_context_accessed": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of files accessed during this step"
        },
        "mcp_servers_accessed": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of MCP servers used during this step"
        },
        "claude_skills_accessed": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of Claude skills used during this step"
        }
      }
    },
    "outputs": {
      "type": "object",
      "required": ["user_initial_input", "user_approved_stepA2", "description_of_feature", "user_story"],
      "properties": {
        "user_initial_input": {
          "type": "string",
          "description": "Initial user request"
        },
        "user_approved_stepA2": {
          "type": "boolean",
          "description": "Whether user approved the user story"
        },
        "description_of_feature": {
          "type": "string",
          "maxLength": 500,
          "description": "Summary of the approved user story"
        },
        "user_story": {
          "type": "string",
          "maxLength": 2000,
          "description": "Complete user story (WHO does WHAT and WHY)"
        }
      }
    }
  }
}
